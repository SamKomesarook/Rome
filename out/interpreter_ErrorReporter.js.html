<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: interpreter/ErrorReporter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: interpreter/ErrorReporter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var antlr4 = require("antlr4");

/**
 * Custom Error Listener inherit from antlr4 ErrorListener
 */
class ErrorReporter extends antlr4.error.ErrorListener {
  constructor(interpreter) {
    super();
    this.interpreter = interpreter;
  }

  syntaxError(recognizer, offendingSymbol, line, column, msg, e) {

    const mismatchRegex = /(expecting)\s(?:('[a-zA-z]*'))/gm;
    const mismatchRequireRegex = /(expecting)\s'/gm;

    const extraneousRegex = /(expecting)\s(?:({('[a-zA-Z_]*'(, )*)*)(})*)/gm;
    const extraneousRequireRegex = /('[a-zA-Z_]*')/gm;

    var outputMsg;
    if (mismatchRegex.test(msg)) {
      outputMsg = msg.match(mismatchRegex)[0];
      outputMsg = outputMsg.replace(mismatchRequireRegex, "");
      outputMsg = outputMsg.replace("'", "");
      outputMsg =
        "Require a '&lt;strong>" +
        outputMsg +
        "&lt;/strong>' at line " +
        line +
        " column " +
        column;
    } else if (extraneousRegex.test(msg)) {
      outputMsg = msg.match(extraneousRegex)[0];
      var acceptableToken = outputMsg.match(extraneousRequireRegex);
      outputMsg = "Require: ";
      for (var i = 0; i &lt; acceptableToken.length; i++) {
        acceptableToken[i] = acceptableToken[i].replace(/'/g, "");
        outputMsg += "'&lt;strong>" + acceptableToken[i] + "&lt;/strong>'";
        if (i !== acceptableToken.length - 1) {
          outputMsg += " or ";
        }
      }
      outputMsg += " at line " + line + " column " + column;
    }

    if (outputMsg != null) {
      this.interpreter.printAnimation(outputMsg);
    }
  }
}

export default ErrorReporter;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ErrorReporter.html">ErrorReporter</a></li><li><a href="Interpreter.html">Interpreter</a></li><li><a href="MemoryBlock.html">MemoryBlock</a></li><li><a href="RVisitor.html">RVisitor</a></li><li><a href="Utility.html">Utility</a></li></ul><h3>Global</h3><ul><li><a href="global.html#constructMem">constructMem</a></li><li><a href="global.html#mapMemObjToSymbol">mapMemObjToSymbol</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Oct 10 2019 15:03:18 GMT+1100 (Australian Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
